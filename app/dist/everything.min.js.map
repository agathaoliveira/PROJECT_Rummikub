{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","constant","GAME_BOARD_ROWS","GAME_BOARD_COLS","GAME_AREA_PADDING_PERCENTAGE","config","$translateProvider","init","controller","$scope","$modal","$log","items","open","size","modalInstance","templateUrl","resolve","result","then","selectedItem","selected","info","Date","$modalInstance","item","ok","close","cancel","dismiss","myInterval","slides","addSlide","newWidth","length","push","image","text","i","$window","$animate","$timeout","stateService","gameService","gameLogicService","gameAIService","CONSTANT","logout","log","obj","verbose","console","undefined","JSON","stringify","isWithinGameArea","clientX","clientY","element","gameArea","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","isYourTurn","draggingLines","style","display","pos","getDraggingTilePosition","dragStartHandler","dragFrom","dragEndHandler","dragContinueHandler","myDrag","board","row","col","from","to","$apply","boardCellClicked","msg","e","message","debug","container","getTileContainerSize","tileIndex","tile","state","drag_color","color","drag_score","score","width","paddingBottom","height","centerXY","x","document","getElementById","clientWidth","gameAreaPaddingPercent","y","setDraggingLines","gameBoardRows","turnIndex","parentElement","showDraggingLines","verticalDraggingLine","setAttribute","horizontalDraggingLine","boardOffset","Math","floor","gameBoardCols","handUl","windowOffset","handPanel","clientHeight","sendComputerMove","move","computerMovesInProcess","createComputerMove","set","value","makeMove","createMeldMove","updateUI","params","isEmptyObj","stateAfterMove","stateBeforeMove","turnIndexBeforeMove","turnIndexAfterMove","yourPlayerIndex","gameEnd","turnindexAfterMove","nexttile","trace","playerHand","rows","sortDisabled","isComputerTurn","playersInfo","playerId","undoAllInProcess","deltas","undoBtnClicked","playerIndex","nPlayers","createInitialMove","findFirstEmptyColumnInHand","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeTile","activeOrigin","window","e2e_test_stateService","cols","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","sortType","stack","meldBtnClicked","undo","createSingleUndoMove","undoAllBtnClicked","setSortTypeBtnClicked","nextType","createSortMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","filter","input","total","parseInt","angularTranslations","TICTACTOE_GAME","RUMMIKUB_GAME","P0","ME","P1","P2","P3","PICK","MELD","sort","SORT","SET","COLOR","UNDO","HELP",123,"UNDO_ALL","ROTATE_INFO","factory","moves","getPossibleMoves","bestMove","getBestMoveByScore","maxScore","best","getScore","tilesSent","getTilesSentToBoardThisTurn","initial","param","stateBefore","actualMove","expectedMove","createMove","equals","moveType","check","isGameOver","nplayers","getInitialMove","getMoveMove","getPickMove","getMeldMove","getSortMove","getSingleUndoMove","getCombinedMove","Error","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","moveTypeAfter","splice","tilesSentToBoardThisTurn","isMeldOk","tileToPick","findAllSetInHand","traceAfter","firstOperation","getPlayerIndexOfNextTurn","endMatch","endMatchScores","getEndScores","hasPlayerWon","sortBy","deltaUndo","moveUndo","checkDelta","possibleMoves","computerDeltas","hand","findResultOfGroupFirst","findSetsInHand","sets","ableToInitial","start","emptySlot","getNextEmptySlotInBoard","j","indexOf","gameState","slot_size","emptyCount","r","colStart","c","getGameBoardCols","option","remains","groups","runs","findAllGroups","getRemainTilesFromSets","findAllRuns","index","condition","checkPlayerIndex","tilesInHandInitially","parseRowToSets","tileSet","isRuns","sameColor","expectScore","isGroups","sameScore","colors","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","isTied","count","handAfter","restTiles","k","fast","getTileColorByIndex","validRuns","findRun","runCandidate","scoreExpect","getTileScoreByIndex","consecutive","group","validGroups","findGroup","groupCandidate","tileIndexA","tileIndexB","tileA","tileB","createCombinedMove","touchHandler","event","touch","changedTouches","handleEvent","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","addEventListener","touchElementId"],"mappings":"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"}