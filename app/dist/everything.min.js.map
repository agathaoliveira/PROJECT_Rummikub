{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","constant","GAME_BOARD_ROWS","GAME_BOARD_COLS","GAME_AREA_PADDING_PERCENTAGE","SETTING","verbose","show_dragging_lines","controller","$scope","$log","$window","$animate","$timeout","stateService","gameService","gameLogicService","gameAIService","CONFIG","logout","log","obj","console","undefined","JSON","stringify","isWithinGameArea","clientX","clientY","element","gameArea","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","isYourTurn","draggingLines","style","display","pos","getDraggingTilePosition","dragStartHandler","dragFrom","dragEndHandler","dragContinueHandler","myDrag","board","row","col","from","to","$apply","boardCellClicked","msg","e","message","container","getTileContainerSize","tileIndex","tile","state","drag_color","color","drag_score","score","width","paddingBottom","height","centerXY","x","document","getElementById","clientWidth","gameAreaPaddingPercent","y","setDraggingLines","gameBoardRows","turnIndex","length","parentElement","showDraggingLines","verticalDraggingLine","setAttribute","horizontalDraggingLine","boardOffset","Math","floor","gameBoardCols","handUl","windowOffset","handPanel","clientHeight","sendComputerMove","move","computerMovesInProcess","createComputerMove","set","value","makeMove","createMeldMove","updateUI","params","turnIndexAfterMove","yourPlayerIndex","isEmptyObj","stateAfterMove","nPlayers","createInitialMove","gameEnd","turnindexAfterMove","nexttile","trace","playerHand","rows","sortDisabled","i","isComputerTurn","playersInfo","playerId","undoAllInProcess","deltas","undoBtnClicked","findFirstEmptyColumnInHand","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeTile","activeOrigin","window","e2e_test_stateService","cols","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","sortType","stack","meldBtnClicked","undo","createSingleUndoMove","undoAllBtnClicked","setSortTypeBtnClicked","nextType","createSortMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","result","push","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","$modal","items","open","size","modalInstance","templateUrl","resolve","then","selectedItem","selected","info","Date","$modalInstance","item","ok","close","cancel","dismiss","myInterval","filter","input","total","parseInt","factory","playerIndex","moves","getPossibleMoves","bestMove","getBestMoveByScore","maxScore","best","getScore","tilesSent","getTilesSentToBoardThisTurn","initial","param","turnIndexBeforeMove","stateBefore","stateBeforeMove","actualMove","expectedMove","createMove","equals","actLen","expLen","moveType","check","isGameOver","nplayers","getInitialMove","getMoveMove","getPickMove","getMeldMove","getSortMove","getSingleUndoMove","getCombinedMove","Error","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","moveTypeAfter","splice","tilesSentToBoardThisTurn","isMeldOk","tileToPick","findAllSetInHand","traceAfter","firstOperation","getPlayerIndexOfNextTurn","endMatch","endMatchScores","getEndScores","hasPlayerWon","sort","sortBy","deltaUndo","moveUndo","checkDelta","possibleMoves","computerDeltas","hand","findResultOfGroupFirst","findSetsInHand","sets","ableToInitial","start","emptySlot","getNextEmptySlotInBoard","j","indexOf","gameState","slot_size","emptyCount","r","colStart","c","getGameBoardCols","option","remains","groups","runs","findAllGroups","getRemainTilesFromSets","findAllRuns","index","condition","checkPlayerIndex","tilesInHandInitially","parseRowToSets","tileSet","isRuns","sameColor","expectScore","isGroups","sameScore","colors","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","isTied","count","handAfter","restTiles","k","fast","getTileColorByIndex","validRuns","findRun","runCandidate","scoreExpect","getTileScoreByIndex","consecutive","group","validGroups","findGroup","groupCandidate","tileIndexA","tileIndexB","tileA","tileB","createCombinedMove","touchHandler","event","touch","changedTouches","handleEvent","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","addEventListener","touchElementId"],"mappings":"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"}