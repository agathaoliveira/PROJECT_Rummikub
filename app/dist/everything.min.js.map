{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","controller","$scope","$modal","$log","items","open","size","modalInstance","templateUrl","resolve","result","then","selectedItem","selected","info","Date","$modalInstance","item","ok","close","cancel","dismiss","myInterval","slides","addSlide","newWidth","length","push","image","text","i","$window","$animate","$timeout","stateService","gameService","gameLogicService","isWithinElement","x","y","element","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","clientX","clientY","isYourTurn","gameArea","debugMode","draggingLines","style","display","pos","getDraggingTilePosition","board","row","col","draggingStartedRowCol","draggingPiece","document","getElementById","nextZIndex","from","to","dragDone","container","getTileContainerSize","$apply","tileIndex","tile","state","drag_color","color","drag_score","score","myDrag","width","gameAreaLeft","offsetLeft","console","log","paddingBottom","height","centerXY","setDraggingLines","gameBoardRows","turnIndex","parentElement","undefined","verticalDraggingLine","setAttribute","horizontalDraggingLine","boardPanel","offsetTop","clientWidth","clientHeight","Math","floor","gameBoardCols","windowOffset","handPanel","boardCellClicked","msg","e","message","debug","sendComputerMove","makeMove","getPossibleMoves","updateUI","params","animationEnded","isEmptyObj","stateAfterMove","stateBeforeMove","turnIndexBeforeMove","turnIndexAfterMove","yourPlayerIndex","nexttile","trace","playerHand","rows","isComputerTurn","playersInfo","playerId","playerIndex","nPlayers","move","createInitialMove","findFirstEmptyColumnInHand","obj","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeTile","activeOrigin","allowDragAndDrop","window","e2e_test_stateService","cols","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","meldBtnClicked","createMeldMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","filter","input","total","parseInt","factory","param","stateBefore","actualMove","expectedMove","createMove","equals","moveType","set","value","check","isGameOver","nplayers","getInitialMove","deltas","getMoveMove","getPickMove","getMeldMove","Error","initial","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","tilesSentToBoardThisTurn","getTilesSentToBoardThisTurn","isMeldOk","tileToPick","traceAfter","getPlayerIndexOfNextTurn","firstOperation","hasPlayerWon","endMatch","endMatchScores","getEndScores","splice","possibleMoves","condition","checkPlayerIndex","index","tilesInHandInitially","j","parseRowToSets","tileSet","isRuns","sets","sameColor","expectScore","isGroups","sameScore","colors","indexOf","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","isTied","count"],"mappings":"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"}