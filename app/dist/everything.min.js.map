{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","constant","GAME_BOARD_ROWS","GAME_BOARD_COLS","GAME_AREA_PADDING_PERCENTAGE","SETTING","verbose","show_dragging_lines","controller","$scope","$log","$window","$animate","$timeout","stateService","gameService","dragAndDropService","gameLogicService","gameAIService","CONFIG","logout","log","obj","console","undefined","JSON","stringify","isWithinGameArea","clientX","clientY","element","gameArea","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","isYourTurn","draggingLines","style","display","pos","getDraggingTilePosition","dragStartHandler","dragFrom","dragEndHandler","dragContinueHandler","myDrag","board","row","col","from","to","$apply","boardCellClicked","msg","e","message","container","getTileContainerSize","tileIndex","tile","state","drag_color","color","drag_score","score","width","paddingBottom","height","centerXY","x","document","getElementById","clientWidth","gameAreaPaddingPercent","y","setDraggingLines","gameBoardRows","turnIndex","length","parentElement","showDraggingLines","verticalDraggingLine","setAttribute","horizontalDraggingLine","boardOffset","Math","floor","gameBoardCols","handUl","windowOffset","handPanel","clientHeight","sendComputerMove","move","computerMovesInProcess","createComputerMove","set","value","makeMove","createMeldMove","updateUI","params","turnIndexAfterMove","yourPlayerIndex","isEmptyObj","stateAfterMove","nPlayers","createInitialMove","gameEnd","turnindexAfterMove","nexttile","trace","playerHand","rows","sortDisabled","i","isComputerTurn","playersInfo","playerId","undoAllInProcess","deltas","undoBtnClicked","findFirstEmptyColumnInHand","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeTile","activeOrigin","window","e2e_test_stateService","addDragListener","cols","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","sortType","stack","meldBtnClicked","undo","createSingleUndoMove","undoAllBtnClicked","setSortTypeBtnClicked","nextType","createSortMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","result","push","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","$modal","items","open","size","modalInstance","templateUrl","resolve","then","selectedItem","selected","info","Date","$modalInstance","item","ok","close","cancel","dismiss","myInterval","filter","input","total","parseInt","factory","playerIndex","moves","getPossibleMoves","bestMove","getBestMoveByScore","maxScore","best","getScore","tilesSent","getTilesSentToBoardThisTurn","initial","param","turnIndexBeforeMove","stateBefore","stateBeforeMove","actualMove","expectedMove","createMove","equals","actLen","expLen","moveType","check","isGameOver","nplayers","getInitialMove","getMoveMove","getPickMove","getMeldMove","getSortMove","getSingleUndoMove","getCombinedMove","Error","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","moveTypeAfter","splice","tilesSentToBoardThisTurn","isMeldOk","tileToPick","findAllSetInHand","traceAfter","firstOperation","getPlayerIndexOfNextTurn","endMatch","endMatchScores","getEndScores","hasPlayerWon","sort","sortBy","deltaUndo","moveUndo","checkDelta","possibleMoves","computerDeltas","hand","findResultOfGroupFirst","findSetsInHand","sets","ableToInitial","start","emptySlot","getNextEmptySlotInBoard","j","indexOf","gameState","slot_size","emptyCount","r","colStart","c","getGameBoardCols","option","remains","groups","runs","findAllGroups","getRemainTilesFromSets","findAllRuns","index","condition","checkPlayerIndex","tilesInHandInitially","parseRowToSets","tileSet","isRuns","sameColor","expectScore","isGroups","sameScore","colors","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","isTied","count","handAfter","restTiles","k","fast","getTileColorByIndex","validRuns","findRun","runCandidate","scoreExpect","getTileScoreByIndex","consecutive","group","validGroups","findGroup","groupCandidate","tileIndexA","tileIndexB","tileA","tileB","createCombinedMove"],"mappings":"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"}