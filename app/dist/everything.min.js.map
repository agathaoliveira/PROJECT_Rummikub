{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","constant","GAME_BOARD_ROWS","GAME_BOARD_COLS","GAME_AREA_PADDING_PERCENTAGE","SETTING","verbose","show_dragging_lines","controller","$scope","$log","$window","$animate","$timeout","$translate","stateService","gameService","dragAndDropService","gameLogicService","gameAIService","CONFIG","logout","log","obj","console","undefined","JSON","stringify","isWithinGameArea","clientX","clientY","element","gameArea","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","isYourTurn","draggingLines","style","display","myDrag","pos","getDraggingTilePosition","dragStartHandler","dragFrom","dragEndHandler","dragContinueHandler","board","row","col","from","to","$apply","boardCellClicked","msg","e","container","getTileContainerSize","tileIndex","tile","state","drag_color","color","drag_score","score","width","paddingBottom","height","centerXY","x","document","getElementById","clientWidth","gameAreaPaddingPercent","y","setDraggingLines","gameBoardRows","turnIndex","length","parentElement","showDraggingLines","verticalDraggingLine","setAttribute","horizontalDraggingLine","boardOffset","Math","floor","gameBoardCols","handUl","windowOffset","handPanel","clientHeight","sendComputerMove","move","computerMovesInProcess","createComputerMove","set","value","makeMove","createMeldMove","updateUI","params","turnIndexAfterMove","yourPlayerIndex","isEmptyObj","stateAfterMove","nPlayers","createInitialMove","message","gameEnd","turnindexAfterMove","nexttile","trace","playerHand","rows","sortDisabled","i","isComputerTurn","playersInfo","playerId","undoAllInProcess","deltas","undoBtnClicked","tileSentToBoard","getTilesSentToBoardThisTurn","findFirstEmptyColumnInHand","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeTile","activeOrigin","cols","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","info","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","sortType","meldBtnClicked","undo","createSingleUndoMove","undoAllBtnClicked","setSortTypeBtnClicked","nextType","createSortMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","result","push","window","e2e_test_stateService","addDragListener","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","$modal","items","open","size","modalInstance","templateUrl","resolve","then","selectedItem","selected","Date","$modalInstance","item","ok","close","cancel","dismiss","helps","image","rule","myInterval","filter","input","total","parseInt","factory","playerIndex","moves","getPossibleMoves","bestMove","getBestMoveByScore","maxScore","best","getScore","tilesSent","initial","param","turnIndexBeforeMove","stateBefore","stateBeforeMove","actualMove","expectedMove","createMove","equals","actLen","expLen","moveType","check","isGameOver","nplayers","getInitialMove","getMoveMove","getPickMove","getMeldMove","getSortMove","getSingleUndoMove","getCombinedMove","Error","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","moveTypeAfter","splice","tilesSentToBoardThisTurn","isMeldOk","tileToPick","findAllSetInHand","traceAfter","firstOperation","getPlayerIndexOfNextTurn","endMatch","endMatchScores","getEndScores","hasPlayerWon","sort","sortBy","deltaUndo","moveUndo","checkDelta","possibleMoves","computerDeltas","hand","findResultOfGroupFirst","findSetsInHand","sets","ableToInitial","start","emptySlot","getNextEmptySlotInBoard","j","indexOf","gameState","slot_size","emptyCount","r","colStart","c","getGameBoardCols","remains","groups","runs","findAllGroups","getRemainTilesFromSets","findAllRuns","index","condition","checkPlayerIndex","tilesInHandInitially","parseRowToSets","tileSet","isRuns","sameColor","expectScore","isGroups","sameScore","colors","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","count","handAfter","restTiles","k","fast","getTileColorByIndex","validRuns","findRun","runCandidate","scoreExpect","getTileScoreByIndex","consecutive","group","validGroups","findGroup","groupCandidate","tileIndexA","tileIndexB","tileA","tileB","createCombinedMove"],"mappings":"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"}