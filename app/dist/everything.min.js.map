{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","controller","$scope","$modal","$log","items","open","size","modalInstance","templateUrl","resolve","result","then","selectedItem","selected","info","Date","$modalInstance","item","ok","close","cancel","dismiss","myInterval","slides","addSlide","newWidth","length","push","image","text","i","$window","$animate","$timeout","stateService","gameService","gameLogicService","gameAIService","isWithinElement","x","y","element","offset","getBoundingClientRect","left","right","top","bottom","handleDragEvent","type","clientX","clientY","isYourTurn","gameArea","debugMode","draggingLines","style","display","pos","getDraggingTilePosition","console","log","activeTile","board","row","col","draggingStartedRowCol","draggingPiece","document","getElementById","nextZIndex","from","to","dragDone","container","getTileContainerSize","$apply","tileIndex","tile","state","drag_color","color","drag_score","score","myDrag","width","gameAreaLeft","offsetLeft","paddingBottom","height","centerXY","JSON","stringify","handUl","printObject","setDraggingLines","obj","gameBoardRows","turnIndex","parentElement","undefined","verticalDraggingLine","setAttribute","horizontalDraggingLine","paddingLeft","boardPanel","offsetTop","clientWidth","clientHeight","Math","floor","gameBoardCols","windowOffset","handPanel","boardCellClicked","msg","e","message","debug","sendComputerMove","move","computerMovesInProcess","createComputerMove","set","value","makeMove","createMeldMove","updateUI","params","animationEnded","isEmptyObj","stateAfterMove","stateBeforeMove","turnIndexBeforeMove","turnIndexAfterMove","yourPlayerIndex","gameEnd","turnindexAfterMove","nexttile","trace","playerHand","rows","sortDisabled","isComputerTurn","playersInfo","playerId","undoAllInProcess","deltas","undoBtnClicked","playerIndex","nPlayers","createInitialMove","findFirstEmptyColumnInHand","key","hasOwnProperty","call","getTileByIndex","$$phase","clearActiveTile","activeOrigin","allowDragAndDrop","window","e2e_test_stateService","cols","clickRow","clickCol","shouldSlowlyAppear","delta","createMoveMove","curPlayerAreaClicked","shouldShowTileOnBoard","notJoker","isJoker","getTileColor","getTileScore","pickBtnClicked","createPickMove","sortType","stack","meldBtnClicked","undo","createSingleUndoMove","undoAllBtnClicked","setSortTypeBtnClicked","nextType","createSortMove","getTileDataValue","dataValue","canDrag","getHandTilesRange","len","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","isMoveOk","filter","input","total","parseInt","factory","moves","getPossibleMoves","bestMove","getBestMoveByScore","maxScore","best","getScore","tilesSent","getTilesSentToBoardThisTurn","initial","param","stateBefore","actualMove","expectedMove","createMove","equals","moveType","check","isGameOver","nplayers","getInitialMove","getMoveMove","getPickMove","getMeldMove","getSortMove","getSingleUndoMove","getCombinedMove","Error","nTilesPerPlayerInitially","setTurn","getInitialBoard","tiles","shuffleKeys","visibility","ii","jj","setVisibility","visibleToPlayerIndices","concat","shuffle","keys","tileToMove","playerRow","getPlayerRow","checkPositionWithinBoard","getGameBoardRows","isTileSentToBoardInCurrentTurnByPlayer","boardAfter","copy","deltasAfter","moveTypeAfter","splice","tilesSentToBoardThisTurn","isMeldOk","tileToPick","traceAfter","firstOperation","getPlayerIndexOfNextTurn","endMatch","endMatchScores","getEndScores","hasPlayerWon","sort","sortBy","findAllSetInHand","deltaUndo","moveUndo","checkDelta","possibleMoves","computerDeltas","hand","findResultOfGroupFirst","findSetsInHand","sets","ableToInitial","start","emptySlot","getNextEmptySlotInBoard","j","indexOf","gameState","slot_size","emptyCount","r","colStart","c","getGameBoardCols","option","remains","groups","runs","findAllGroups","getRemainTilesFromSets","findAllRuns","index","condition","checkPlayerIndex","tilesInHandInitially","parseRowToSets","tileSet","isRuns","sameColor","expectScore","isGroups","sameScore","colors","getSetsOfTilesByIndex","setsOfTileIndices","winnerIndex","scoresFromAllLosers","tilesRemaining","setsInBoard","getInitialMeldScore","tilesSentThisTurn","tilesAllFromPlayer","setScore","getWinner","isTie","hasLoser","winner","isTied","count","handAfter","restTiles","k","fast","getTileColorByIndex","validRuns","findRun","runCandidate","scoreExpect","getTileScoreByIndex","consecutive","group","validGroups","findGroup","groupCandidate","tileIndexA","tileIndexB","tileA","tileB","createCombinedMove"],"mappings":"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"}